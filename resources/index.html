<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Gateway - Unified LLM API</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        :root {
            --primary: #2F80ED;
            --secondary: #27AE60;
            --background: #0F172A;
            --text: #F8FAFC;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: var(--background);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .hero {
            text-align: center;
            padding: 1rem 0;
            background: linear-gradient(45deg, #1E293B, #0F172A);
            border-bottom: 1px solid #1E293B;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: fadeInUp 1s ease;
        }

        .hero p {
            font-size: 1.2rem;
            color: #94A3B8;
            max-width: 600px;
            margin: 0 auto;
            animation: fadeIn 1.5s ease;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 4rem 0;
        }

        .feature-card {
            background: #1E293B;
            padding: 2rem;
            border-radius: 1rem;
            transition: transform 0.3s ease;
            border: 1px solid #334155;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .architecture {
            background: #1E293B;
            padding: 2rem;
            border-radius: 1rem;
            margin: 4rem 0;
        }

        .diagram-container {
            overflow: auto;
            margin-top: 2rem;
            border: 1px solid #334155;
            border-radius: 0.5rem;
            background: #0F172A;
        }

        .diagram {
            min-width: 900px;
            min-height: 600px;
            padding: 2rem;
            transform-origin: 0 0;
        }

        .doc-links {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            margin-top: 2rem;
            animation: fadeIn 2s ease;
        }

        .doc-link {
            display: inline-flex;
            align-items: center;
            padding: 0.8rem 1.5rem;
            border-radius: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
            text-decoration: none;
            transition: all 0.3s ease;
            border: 1px solid var(--primary);
        }

        .doc-link:hover {
            background: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(47, 128, 237, 0.3);
        }

        .doc-link span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .diagram-container {
                overflow-x: auto;
            }
            
            .diagram {
                min-width: 1200px;
                min-height: 800px;
            }

            .doc-links {
                flex-direction: column;
                width: 100%;
            }
            
            .doc-link {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <div class="container">
            <h1>AI Gateway</h1>
            <p>Unified API for LLM Integration with Ollama & Hugging Face</p>
            <div class="doc-links">
                <a href="/docs" target="_blank" rel="noopener noreferrer" class="doc-link">
                    <span>üìö Swagger UI</span>
                </a>
                <a href="/redoc" target="_blank" rel="noopener noreferrer" class="doc-link">
                    <span>üìñ ReDoc</span>
                </a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="features">
            <div class="feature-card">
                <h3>üöÄ Multi-Model Support</h3>
                <p>Seamless integration with Ollama and Hugging Face models. Switch between providers with a single API call.</p>
            </div>
            
            <div class="feature-card">
                <h3>üñºÔ∏è Smart Generation</h3>
                <p>Automatic detection of image generation requests. Intelligent prompt translation and optimization.</p>
            </div>
            
            <div class="feature-card">
                <h3>üîí Enterprise Ready</h3>
                <p>Token authentication, rate limiting, and comprehensive monitoring. Built for production workloads.</p>
            </div>
        </div>

        <div class="architecture">
            <h2>System Architecture</h2>
            <div class="diagram-container">
                <div class="diagram" id="diagram">
                    <pre class="mermaid">
                        %%{init: {'theme': 'dark', 'themeVariables': {
                            'fontSize': '20px',
                            'primaryColor': '#1E293B',
                            'lineColor': '#334155',
                            'textColor': '#F8FAFC',
                            'nodeBorder': '#2F80ED',
                            'nodeTextColor': '#F8FAFC'
                        }, 'flowchart': {
                            'useMaxWidth': false,
                            'htmlLabels': true,
                            'nodeSpacing': 50,
                            'rankSpacing': 80
                        }}}%%
                        
                        graph TD
                            A[Client] -->|REST API| B[API Server]
                            B --> C{Request Type}
                            C -->|Text| D[Binar—É Classification Model]
                            C -->|Image| E[Hugging Face Diffusion]
                            D --> F{Output Type}
                            F -->|Text-to-Text| G[Ollama Models]
                            F -->|Text-to-Image| H[Ollama Models\nPrompt Optimization]
                            H --> E
                            B --> I[Model Cache]
                            B --> J[System Monitor]
                            G --> K[(Model Storage)]
                            E --> K
                            I --> K
                            
                            %% –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞ –º–µ—Ç—Ä–∏–∫
                            J --> L[Torch/Ollama Diagnostics]
                            J --> M[CPU/RAM/GPU Metrics]
                            
                            %% –ù–µ–≤–∏–¥–∏–º—ã–µ —Å–≤—è–∑–∏ –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è
                            M ~~~ L
                        
                            style A fill:#2F80ED,stroke:#2563EB,color:white,font-size:24px
                            style B fill:#1E293B,stroke:#334155,color:white,font-size:24px
                            style D fill:#F39C12,stroke:#E67E22,color:white,font-size:24px
                            style E fill:#EB5757,stroke:#D64545,color:white,font-size:24px
                            style C fill:#9B59B6,stroke:#8E44AD,color:white,font-size:24px
                            style I fill:#F39C12,stroke:#E67E22,color:white,font-size:24px
                            style J fill:#3498DB,stroke:#2980B9,color:white,font-size:24px
                            style K fill:#1ABC9C,stroke:#16A085,color:white,font-size:24px
                            style G fill:#27AE60,stroke:#219653,color:white,font-size:24px
                            style H fill:#27AE60,stroke:#219653,color:white,font-size:24px
                            style F fill:#8E44AD,stroke:#7D3C98,color:white,font-size:24px
                            
                            %% –°—Ç–∏–ª–∏ –¥–ª—è –º–µ—Ç—Ä–∏–∫
                            style L fill:#3498DB,stroke:#2980B9,color:white
                            style M fill:#3498DB,stroke:#2980B9,color:white
                        
                            classDef default font-size:20px,stroke-width:2px
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            mermaid.initialize({
                startOnLoad: true,
                securityLevel: 'loose',
                theme: 'dark',
                fontFamily: 'Segoe UI, sans-serif',
                flowchart: {
                    useMaxWidth: false,
                    htmlLabels: true,
                    curve: 'basis',
                    nodeSpacing: 50,
                    rankSpacing: 80
                },
                themeVariables: {
                    fontSize: '20px',
                    primaryColor: '#1E293B',
                    lineColor: '#334155',
                    textColor: '#F8FAFC',
                    nodeBorder: '#2F80ED',
                    nodeTextColor: '#F8FAFC'
                }
            });
            
            setTimeout(() => {
                try {
                    mermaid.init(undefined, '.mermaid');
                    
                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
                    const diagram = document.querySelector('.diagram');
                    if (diagram) {
                        const svg = diagram.querySelector('svg');
                        if (svg) {
                            svg.style.width = '100%';
                            svg.style.height = 'auto';
                            svg.style.minHeight = '600px';
                        }
                    }
                } catch (e) {
                    console.error("Mermaid error:", e);
                    document.getElementById('diagram').innerHTML = 
                        '<p style="color:white;font-size:24px;padding:2rem">Diagram loading failed. Please refresh the page.</p>';
                }
            }, 200);
        });
    </script>
</body>
</html>